import{y as u,V as O,c as n,D as r,o as t,_ as C,k as s,W as B,u as S,t as p,X as x,C as c,Y as I,b as N,j as V,Z as T,$ as R,a0 as j,a1 as U,a2 as E,a3 as P,a4 as M,h as b,U as X,g as v,a5 as Z,p as L,A as Y,a6 as A,a7 as q}from"./index-npfRokES.js";import{_ as z}from"./BackArrowIcon.vue_vue_type_script_setup_true_lang-CqY5nk9u.js";const G=["src","alt","attrs"],D=u({__name:"OpenWeatherIconAtom",props:{icon:{},alt:{}},setup(i){const e=O();return(a,o)=>(t(),n("img",{src:`https://openweathermap.org/img/wn/${a.icon}@2x.png`,alt:a.alt,attrs:r(e)},null,8,G))}}),J={},K={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Q(i,e){return t(),n("svg",K,e[0]||(e[0]=[s("path",{d:"M7.99665 2.66666C5.22413 2.66287 2.91109 4.78398 2.67532 7.54646C2.43956 10.3089 4.3597 12.7913 7.09276 13.2574C9.82582 13.7235 12.4602 12.0178 13.1533 9.33333H11.766C11.0878 11.2514 9.078 12.3549 7.09563 11.8976C5.11326 11.4403 3.78992 9.56791 4.02053 7.54659C4.25113 5.52527 5.96222 3.99903 7.99665 3.99999C9.05635 4.00155 10.0709 4.42919 10.812 5.18667L8.66665 7.33333H13.3333V2.66666L11.766 4.23333C10.7685 3.22975 9.41165 2.66581 7.99665 2.66666Z",fill:"white"},null,-1)]))}const e1=C(J,[["render",Q]]),t1={class:"main-weather-container"},s1={class:"weather-description"},a1={class:"last-update"},n1=u({__name:"MainWeatherCard",setup(i){const{weather:e,refreshWeather:a}=B(),o=S(()=>{var d,l;return e.value&&((l=(d=e.value)==null?void 0:d.weather)==null?void 0:l.length)>0});async function y(){await a(e.value.id)}return(d,l)=>(t(),n("section",t1,[s("p",null,p(r(T)(r(e).dt)),1),o.value?(t(),n(x,{key:0},[c(D,{icon:r(e).weather[0].icon,alt:r(e).weather[0].description},null,8,["icon","alt"]),c(I,{temp:r(e).main.temp,class:"weather-temp"},null,8,["temp"]),s("p",s1,p(r(e).weather[0].description),1),s("p",a1,[l[0]||(l[0]=N(" Last Update:")),s("time",null,p(r(R)(r(e).dt)),1),c(e1,{onClick:y,"aria-label":"refresh weather details",style:{cursor:"pointer"}})])],64)):V("",!0)]))}}),r1={class:"hweather-card-container"},o1=u({__name:"HourlyWeatherCard",props:{forecast:{}},setup(i){return(e,a)=>(t(),n("section",r1,[c(D,{icon:e.forecast.weather[0].icon,alt:e.forecast.weather[0].description,class:"weather-icon"},null,8,["icon","alt"]),c(I,{temp:e.forecast.main.temp,class:"temp"},null,8,["temp"]),s("time",null,p(r(R)(e.forecast.dt)),1)]))}}),c1={id:"hourly-forecast-container"},i1=u({__name:"HourlyForecastList",props:{forecasts:{}},setup(i){return(e,a)=>(t(),n("section",c1,[a[0]||(a[0]=s("h2",null,"Hourly Forecast",-1)),s("ul",null,[(t(!0),n(x,null,j(e.forecasts,o=>(t(),n("li",{key:`${o.dt_txt}`},[c(o1,{forecast:o},null,8,["forecast"])]))),128))])]))}}),l1=C(i1,[["__scopeId","data-v-c8ec5ef3"]]),_1={},u1={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function d1(i,e){return t(),n("svg",u1,e[0]||(e[0]=[s("path",{d:"M14.5 12L9.5 7V17L14.5 12Z",fill:"#201C1C"},null,-1)]))}const h1=C(_1,[["render",d1]]),p1={class:"wweather-card-container"},C1={class:"icon-container"},f1={class:"day-condition-container"},m1={class:"day"},w1={class:"weather-condition"},v1={class:"temp-arrow-container",style:{background:"url()"}},y1=u({__name:"WeeklyWeatherCard",props:{forecast:{}},setup(i){return(e,a)=>(t(),n("section",p1,[s("div",C1,[c(D,{icon:e.forecast.weather[0].icon,alt:e.forecast.weather[0].description,class:"weather-icon"},null,8,["icon","alt"])]),s("div",f1,[s("p",m1,p(r(U)(new Date(e.forecast.dt_txt))),1),s("p",w1,p(e.forecast.weather[0].description),1)]),s("div",v1,[c(I,{temp:e.forecast.main.temp,class:""},null,8,["temp"]),c(h1)])]))}}),$1=C(y1,[["__scopeId","data-v-27da6777"]]),g1={id:"weekly-forecast-container"},k1=["onClick"],V1=u({__name:"WeeklyForecastList",props:{forecasts:{},onClick:{type:Function}},setup(i){return(e,a)=>(t(),n("section",g1,[a[0]||(a[0]=s("h2",null,"Weekly Forecast",-1)),s("ul",null,[(t(!0),n(x,null,j(e.forecasts,o=>(t(),n("li",{key:`${o.dt_txt}`,onClick:()=>e.onClick(o),"aria-label":"update hourly forecast"},[c($1,{forecast:o},null,8,["forecast"])],8,k1))),128))])]))}}),W1=C(V1,[["__scopeId","data-v-e7b24a64"]]),H1={},x1={width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function b1(i,e){return t(),n("svg",x1,e[0]||(e[0]=[s("path",{d:"M14.5 7.33334H9.16665V2.00001C9.16665 1.8232 9.09641 1.65363 8.97138 1.52861C8.84636 1.40358 8.67679 1.33334 8.49998 1.33334C8.32317 1.33334 8.1536 1.40358 8.02858 1.52861C7.90355 1.65363 7.83331 1.8232 7.83331 2.00001V7.33334H2.49998C2.32317 7.33334 2.1536 7.40358 2.02858 7.52861C1.90355 7.65363 1.83331 7.8232 1.83331 8.00001C1.83331 8.17682 1.90355 8.34639 2.02858 8.47141C2.1536 8.59644 2.32317 8.66668 2.49998 8.66668H7.83331V14C7.83331 14.1768 7.90355 14.3464 8.02858 14.4714C8.1536 14.5964 8.32317 14.6667 8.49998 14.6667C8.67679 14.6667 8.84636 14.5964 8.97138 14.4714C9.09641 14.3464 9.16665 14.1768 9.16665 14V8.66668H14.5C14.6768 8.66668 14.8464 8.59644 14.9714 8.47141C15.0964 8.34639 15.1666 8.17682 15.1666 8.00001C15.1666 7.8232 15.0964 7.65363 14.9714 7.52861C14.8464 7.40358 14.6768 7.33334 14.5 7.33334Z",fill:"white"},null,-1)]))}const L1=C(H1,[["render",b1]]),M1={},B1={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function I1(i,e){return t(),n("svg",B1,e[0]||(e[0]=[s("path",{d:"M14 4.00001H11.3333V3.33334C11.3328 2.80309 11.1219 2.29472 10.7469 1.91977C10.372 1.54482 9.86359 1.33392 9.33333 1.33334H6.66666C6.13641 1.33392 5.62804 1.54482 5.25309 1.91977C4.87814 2.29472 4.66724 2.80309 4.66667 3.33334V4.00001H2C1.82319 4.00001 1.65362 4.07025 1.52859 4.19527C1.40357 4.3203 1.33333 4.48987 1.33333 4.66668C1.33333 4.84349 1.40357 5.01306 1.52859 5.13808C1.65362 5.26311 1.82319 5.33334 2 5.33334H2.66667V11.3333C2.6677 12.2171 3.01923 13.0643 3.64412 13.6892C4.26902 14.3141 5.11626 14.6656 6 14.6667H10C10.8837 14.6656 11.731 14.3141 12.3559 13.6892C12.9808 13.0643 13.3323 12.2171 13.3333 11.3333V5.33334H14C14.1768 5.33334 14.3464 5.26311 14.4714 5.13808C14.5964 5.01306 14.6667 4.84349 14.6667 4.66668C14.6667 4.48987 14.5964 4.3203 14.4714 4.19527C14.3464 4.07025 14.1768 4.00001 14 4.00001ZM6 3.33334C6.00012 3.15657 6.07039 2.98707 6.19539 2.86207C6.32039 2.73707 6.48989 2.6668 6.66666 2.66668H9.33333C9.51011 2.6668 9.6796 2.73707 9.8046 2.86207C9.9296 2.98707 9.99988 3.15657 10 3.33334V4.00001H6V3.33334ZM12 11.3333C11.9994 11.8636 11.7885 12.372 11.4136 12.7469C11.0386 13.1219 10.5303 13.3328 10 13.3333H6C5.46974 13.3328 4.96137 13.1219 4.58642 12.7469C4.21148 12.372 4.00058 11.8636 4 11.3333V5.33334H12V11.3333ZM6.66666 12C6.75423 12.0001 6.84094 11.9829 6.92185 11.9494C7.00275 11.9159 7.07626 11.8668 7.13818 11.8049C7.2001 11.7429 7.2492 11.6694 7.28269 11.5885C7.31617 11.5076 7.33338 11.4209 7.33333 11.3333V7.33334C7.33333 7.15653 7.26309 6.98696 7.13807 6.86194C7.01305 6.73691 6.84348 6.66668 6.66666 6.66668C6.48985 6.66668 6.32028 6.73691 6.19526 6.86194C6.07024 6.98696 6 7.15653 6 7.33334V11.3333C5.99995 11.4209 6.01716 11.5076 6.05064 11.5885C6.08413 11.6694 6.13323 11.7429 6.19515 11.8049C6.25706 11.8668 6.33058 11.9159 6.41148 11.9494C6.49239 11.9829 6.5791 12.0001 6.66666 12ZM9.33333 12C9.42089 12.0001 9.50761 11.9829 9.58851 11.9494C9.66942 11.9159 9.74293 11.8668 9.80485 11.8049C9.86676 11.7429 9.91587 11.6694 9.94935 11.5885C9.98284 11.5076 10 11.4209 10 11.3333V7.33334C10 7.15653 9.92976 6.98696 9.80474 6.86194C9.67971 6.73691 9.51014 6.66668 9.33333 6.66668C9.15652 6.66668 8.98695 6.73691 8.86193 6.86194C8.7369 6.98696 8.66667 7.15653 8.66667 7.33334V11.3333C8.66661 11.4209 8.68382 11.5076 8.71731 11.5885C8.75079 11.6694 8.7999 11.7429 8.86181 11.8049C8.92373 11.8668 8.99724 11.9159 9.07815 11.9494C9.15906 11.9829 9.24577 12.0001 9.33333 12Z",fill:"white"},null,-1)]))}const D1=C(M1,[["render",I1]]),F1={id:"wdetails-navbar"},Z1=u({__name:"WeatherDetailNavbar",async setup(i){let e,a;const{isWeatherSaved:o,saveWeather:y,discardWeather:d,getWeather:l}=B(),f=E(),W=P(),$=([e,a]=M(()=>l({id:f.params.id,units:"metric"})),e=await e,a(),e);function m(){y($),W.push("/")}function g(){d($.id),W.push("/")}return(k,F)=>(t(),n("header",F1,[c(X,{to:"/"},{default:b(()=>[c(z,{fill:"white"})]),_:1}),s("p",null,p(r($).name),1),r(o)?(t(),v(Z,{key:0,onClick:g,id:"remove-btn","aria-label":"remove saved weather"},{default:b(()=>[c(D1)]),_:1})):(t(),v(Z,{key:1,onClick:m,id:"save-btn","aria-label":"save weather"},{default:b(()=>[c(L1)]),_:1}))]))}}),A1={class:"layout"},N1={class:"navbar-container"},R1={key:1,class:"forecast-container"},S1=u({__name:"WeatherDetailView",async setup(i){let e,a;const{loading:o,getWeather:y,getForecast:d,resetWeather:l}=B(),f=E(),W=([e,a]=M(()=>y({id:f.params.id,units:"metric"})),e=await e,a(),e),$=([e,a]=M(()=>d({id:f.params.id,units:"metric"})),e=await e,a(),e),m=L([]),g=L([]),k=L({});Y(()=>{k.value=$.list.reduce((_,h)=>{const[w,j1]=A(h.dt_txt," ");return _[w]||(_[w]=[],g.value.push(h)),_[w].push(h),_},{});let H=Object.keys(k.value);m.value=k.value[H[0]]}),q(()=>{l()});function F(H){var w;let[_,h]=A(H.dt_txt," ");m.value=k.value[_],(w=document.getElementById("scrollHere"))==null||w.scrollIntoView({behavior:"smooth"})}return(H,_)=>{var h;return t(),n("div",A1,[s("header",N1,[r(f).path.startsWith("/weather/")&&((h=r(f).params)!=null&&h.id)?(t(),v(Z1,{key:0})):V("",!0),r(o)?V("",!0):(t(),v(n1,{key:1,weather:r(W)},null,8,["weather"]))]),_[0]||(_[0]=s("div",{id:"scrollHere"},null,-1)),r(o)?(t(),n(x,{key:0},[N(" Loading... ")],64)):(t(),n("div",R1,[m.value?(t(),v(l1,{key:0,forecasts:m.value},null,8,["forecasts"])):V("",!0),g.value?(t(),v(W1,{key:1,forecasts:g.value,"on-click":F},null,8,["forecasts"])):V("",!0)]))])}}});export{S1 as default};
